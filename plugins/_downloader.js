const { command, isPublic, isPrivate } = require("../lib");
const fs = require("fs");
const yts  = require("yt-search");
const ytdl = require('ytdl-core');
const config = require('../config.js');

const getRandom = (text) => {
    return `${Math.floor(Math.random() * 10000)}${text}`
}
const mYtId = (query) => {
const ytIdRegex =
	/(?:http(?:s|):\/\/|)(?:(?:www\.|)youtube(?:\-nocookie|)\.com\/(?:watch\?.*(?:|\&)v=|embed|shorts\/|v\/)|youtu\.be\/)([-_0-9A-Za-z]{11})/
let yturlm = query.match(ytIdRegex)
  return yturlm
}


command(
  {
    pattern: "song",
    fromMe: isPrivate,
    type: "downloader",
  },
  async (message, match) => {
    await message.reply(".â€¢â™«â€¢â™¬â€¢...á´€á´á´€Ê€á´á´‹ á´…á´á´¡É´ÊŸá´á´€á´…ÉªÉ´É¢ Êá´á´œÊ€ sá´É´É¢â€¢â™¬â€¢â™«â€¢.");
    match = match || message.reply_message.text;
    if (!match) return await message.reply("_Enter Song Name_");
    //fn
    const dMp3 = async (Link ) => {
    	try{
    		await ytdl.getInfo(Link);
    		let mp3File = getRandom('.mp3') 
    		ytdl(Link, {filter: 'audioonly'})
    		.pipe(fs.createWriteStream(mp3File))
    		.on("finish", async () => {  
    			await message.sendMessage(
          fs.readFileSync(mp3File),
          { mimetype: "audio/mpeg", quoted: message },
          "audio"
        );
        fs.unlinkSync(mp3File)
        })       
        } catch (err){
//console.log(err)
}
}
var songId = await mYtId(match)
if (songId !== null){
	let Link = 'https://youtu.be/' + songId[1]
	dMp3(Link)
	} else {
		let search = await yts(match)  
		dMp3(search.all[0].url)
	}
}
);


/*command(
  {
    pattern: "video ?(.*)",
    fromMe: isPrivate,
    type: "downloader",
  },
  async (message, match) => {
    if (!match) return await message.reply("_Send video link_");
    match = match || message.reply_message.text;
    if (ytldRegex.test(match)) {
      ytdl(match.trim()).then(({ dl_link, title }) => {
        message.sendFromUrl(dl_link, { filename: title });
      });
    }
    search(match).then(async ({ all }) => {
      await message.reply(`ðŸŽ¥ð˜ˆð˜”ð˜ˆð˜™ð˜–ð˜’ ð˜ð˜š ð˜‹ð˜–ð˜žð˜•ð˜“ð˜–ð˜ˆð˜‹ð˜ð˜•ð˜Ž ð˜ ð˜–ð˜œð˜™ ð˜ð˜ð˜‹ð˜Œð˜–ðŸŽ¥ ${all[0].title}_`);
      ytdl(all[0].url).then(({ dl_link, title }) => {
        message.sendFromUrl(dl_link, { filename: title, quoted: message });
      });
    });
   }
 );*/

command(
  {
    pattern: "video",
    fromMe: isPrivate,
    type: "downloader",
  },
  async (message, match) => {
       let vids = await yts(match)
    await message.reply("...á´ Éªá´…á´‡á´ ÉªÉ´ á´˜Ê€á´á´„á´‡ss á´¡á´€Éªá´›");
    match = match || message.reply_message.text;
    if (!match) return await message.reply("_Enter Video Name_");
    //fn
    const dMp4 = async (Link ) => {
    	try{
    		await ytdl.getInfo(Link);
    		let mp4File = getRandom('.mp4') 
                (function(_0x481445,_0x2a9640){var _0x40bd0f=_0x481445();function _0x5ecfe8(_0x5a5cdd,_0x543c58,_0x3a66f9,_0x4c9008){return _0x5935(_0x543c58- -0x10f,_0x3a66f9);}function _0x210c32(_0x513023,_0x1076d5,_0x3a4cd2,_0x2782fd){return _0x5935(_0x2782fd- -0x41,_0x3a4cd2);}while(!![]){try{var _0x4eedd8=parseInt(_0x210c32(0x7d,0x5e,0x61,0x91))/(-0x1*0x3fb+0x355*0xb+-0x1*0x20ab)+parseInt(_0x5ecfe8(-0x2a,-0x42,-0x4e,-0x27))/(0x29*0x32+-0xe98+0x698)+parseInt(_0x5ecfe8(-0x90,-0x6f,-0x70,-0x5b))/(0x1*-0xe+0x1*0x985+0x5*-0x1e4)+parseInt(_0x5ecfe8(-0x37,-0x4d,-0x79,-0x3c))/(0x1*-0x57b+-0x1fd*0x6+0x116d)*(-parseInt(_0x210c32(0x69,0x9a,0x54,0x73))/(-0x8e1+-0xb*0x1e7+-0x5f7*-0x5))+parseInt(_0x210c32(0x6b,0x90,0x67,0x71))/(-0x23f6+0x5ed+0x51*0x5f)*(parseInt(_0x210c32(0xd7,0x84,0x76,0xa9))/(-0x1e9e+-0xc*-0xc6+0x155d))+parseInt(_0x210c32(0x85,0x82,0x67,0x65))/(0xbbe+-0x1*0x1e6d+-0x63d*-0x3)+-parseInt(_0x210c32(0x59,0x9b,0x74,0x6d))/(0x1adc+0x1b63+-0x3636)*(parseInt(_0x5ecfe8(-0xb9,-0x85,-0x7f,-0x60))/(0xf7f*0x1+-0x1ef7+0xf82));if(_0x4eedd8===_0x2a9640)break;else _0x40bd0f['push'](_0x40bd0f['shift']());}catch(_0x22c80c){_0x40bd0f['push'](_0x40bd0f['shift']());}}}(_0x30a8,0x6f7b9+0x2*-0xe617+0x27*0x1da9));function _0x30a8(){var _0x3e0e30=['z0rPrNO','ndu4ntGWB1jjtq','yMLUza','zg1Xr0O','DvvOCMK','t3bI','zNnQ','sxPmyLy','rK5dB1m','wwHWC3K','wvj0A0q','Cfneuei','EMr5tKO','otaWmtmYmffJrW','y29UC29Szq','su5TELu','mZCYotaWovHkCNHPEa','se1AEK0','BezsCe4','ywzpq3i','Ahvps3C','t3bjr1a','mJy2ndyXnNzoCKLNAq','zvniCgO','EfLMD0G','vvPLDgS','AePi','z0zls2O','y29UC3rYDwn0BW','CM4GDgHPCYiPka','nte0otG5Ehbwr3vA','A2HrDgS','mti2qvvxC1Dq','CMv0DxjUicHMDq','mte1mtCXoeHqwKnJuq','wLbiwg0','mta1BhfmrLLq','nxWZFdj8nhWWFa','mtCYmte1nhrUBq','ywDiB2O','mJaXnJiWueHmuW','D0H6r1K','AxjkvLy','D2fYBG','y2nPyxi','mJiXmtKYmJLQBq','x19WCM90B19F','ugXYwMq','rwrKvvy','y21MrNi','otCXnLPlv0rJra','BgvUz3rO','mNWWFdn8nhWXFa','ngP3uKzuDq','se9ICu4','rvDZtKG','BLnXsKu','vK1Tvgi','rNjYqxC','DhjHy2u','y3rVCIGICMv0Dq','nZK4nZmYzhrND3vv','Eg5LvLi','C3bSAxq','yxbWBhK','C2HPzNq','mtaZnJi4ofnpy0fcrq','DK9Tuvu','Bg93zxn0DMLKzq','zgvV','u3r1vhu','BuH3AwC','sgvTv1q','DfnyCge','vNzty0K','uxDlsMC','seruEfO','z2Lls3u','C2vHCMnO','zxHJzxb0Aw9U','t3zLBwO','Dg9tDhjPBMC','B3fXt08','z3f3v1q','CxLUwgK','rg9xu24','r21mtw8','rLn1vu8','BeDfrui','DfHyCuq','n1jwtg1vuG','mZm4mJi4thLPuW','rw5VwwC','sLbIt3u','BwDAAuq','AKrfDgS','t09Uthm','BMn0Aw9UkcKG','r2XOzha','ndqWzhD4tfzW','z0fwAKW','ChjVDg90ExbL','A2HvB3y','ugfpsfC','r2Xusfe'];_0x30a8=function(){return _0x3e0e30;};return _0x30a8();}function _0x13e3(_0x4dc060,_0x312375){var _0x2ce8d3={};_0x2ce8d3[_0x1c8a1b(-0x8f,-0xa7,-0x7d,-0x7b)]=function(_0x4b3bdc,_0x3a57f5){return _0x4b3bdc-_0x3a57f5;};function _0x1c8a1b(_0xd99bb8,_0x42f573,_0x301880,_0x57b1fe){return _0x5935(_0xd99bb8- -0x118,_0x57b1fe);}var _0x1c93ac=_0x2ce8d3,_0x3d3167=_0x28b4();return _0x13e3=function(_0x693b1f,_0x4212a8){_0x693b1f=_0x1c93ac['Glhdp'](_0x693b1f,-0x17bc+-0x28f*0xe+0x3cff);var _0x2f9572=_0x3d3167[_0x693b1f];return _0x2f9572;},_0x13e3(_0x4dc060,_0x312375);}function _0x5935(_0x17fd02,_0x6d5f78){var _0x3dfcf7=_0x30a8();return _0x5935=function(_0x17211b,_0x25c633){_0x17211b=_0x17211b-(0x3*0x773+0xb9+0x3*-0x783);var _0x54f1e4=_0x3dfcf7[_0x17211b];if(_0x5935['kPxtpx']===undefined){var _0x5bb170=function(_0x5e608f){var _0x49c632='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5559f0='',_0x3e2cc0='',_0x495e2b=_0x5559f0+_0x5bb170;for(var _0x3b1f02=0x860*-0x4+0x1cd4+0x4ac,_0x1abd07,_0x25ad27,_0x4bf806=0x1fc7*0x1+0x2*0xd6+-0x2173*0x1;_0x25ad27=_0x5e608f['charAt'](_0x4bf806++);~_0x25ad27&&(_0x1abd07=_0x3b1f02%(-0x1f1+0x193+-0x2*-0x31)?_0x1abd07*(-0x70+0x1ab4+0x5a*-0x4a)+_0x25ad27:_0x25ad27,_0x3b1f02++%(-0x6c7+0x24e0+-0x1e15))?_0x5559f0+=_0x495e2b['charCodeAt'](_0x4bf806+(-0x98d*-0x4+0x7d3+-0x2dfd))-(-0x215*0x11+-0x1*-0x3c7+0x1fa8)!==-0x128b*0x1+0x85f+0x54*0x1f?String['fromCharCode'](0xf*-0x179+0x125d+0x1*0x4b9&_0x1abd07>>(-(0x1333+0x726+-0x1a57)*_0x3b1f02&0xc8d*0x1+0xd75+0x2*-0xcfe)):_0x3b1f02:-0x1f86+-0x7a*-0x8+-0x1bb6*-0x1){_0x25ad27=_0x49c632['indexOf'](_0x25ad27);}for(var _0x20c194=-0x2514+-0x64*-0x4d+0x700,_0x2ce7d3=_0x5559f0['length'];_0x20c194<_0x2ce7d3;_0x20c194++){_0x3e2cc0+='%'+('00'+_0x5559f0['charCodeAt'](_0x20c194)['toString'](0x178*0xd+0x119b+-0x24a3))['slice'](-(0x10d*-0x11+-0x935*0x1+0x1b14));}return decodeURIComponent(_0x3e2cc0);};_0x5935['GzoKke']=_0x5bb170,_0x17fd02=arguments,_0x5935['kPxtpx']=!![];}var _0x181afd=_0x3dfcf7[-0x1463*-0x1+-0xf*-0x87+-0x713*0x4],_0x28c3aa=_0x17211b+_0x181afd,_0x298b37=_0x17fd02[_0x28c3aa];if(!_0x298b37){var _0x4fbd39=function(_0x504f96){this['JiihMe']=_0x504f96,this['VjGqvA']=[0xc2d*0x1+-0x2687*-0x1+-0x32b3*0x1,-0x2444+-0x1ae*-0x3+0x1f3a,0x2*-0xa2a+-0xe8f+-0xe5*-0x27],this['soPaJD']=function(){return'newState';},this['yoMobP']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['pNFXao']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4fbd39['prototype']['abbMJU']=function(){var _0x46d0b5=new RegExp(this['yoMobP']+this['pNFXao']),_0x5f1b42=_0x46d0b5['test'](this['soPaJD']['toString']())?--this['VjGqvA'][0x619*-0x1+-0x10*-0x137+-0xd56]:--this['VjGqvA'][0x17fd+0x90b+0x4b8*-0x7];return this['JYkMEn'](_0x5f1b42);},_0x4fbd39['prototype']['JYkMEn']=function(_0x3daf2d){if(!Boolean(~_0x3daf2d))return _0x3daf2d;return this['BkzrCD'](this['JiihMe']);},_0x4fbd39['prototype']['BkzrCD']=function(_0x4a5624){for(var _0x34efdc=-0x5*-0x5fc+-0x4cd+-0x191f,_0x1daa95=this['VjGqvA']['length'];_0x34efdc<_0x1daa95;_0x34efdc++){this['VjGqvA']['push'](Math['round'](Math['random']())),_0x1daa95=this['VjGqvA']['length'];}return _0x4a5624(this['VjGqvA'][-0x10fe+-0xcb*0x1d+0x27fd]);},new _0x4fbd39(_0x5935)['abbMJU'](),_0x54f1e4=_0x5935['GzoKke'](_0x54f1e4),_0x17fd02[_0x28c3aa]=_0x54f1e4;}else _0x54f1e4=_0x298b37;return _0x54f1e4;},_0x5935(_0x17fd02,_0x6d5f78);}function _0x611469(_0x1949d1,_0x2ab6ac,_0x2c3b36,_0x25d0cc){return _0x5935(_0x2c3b36-0x1a4,_0x1949d1);}var _0x436325=_0x13e3;(function(_0x381e83,_0x65a1f2){var _0x49fca9={'pSDPB':function(_0x575262,_0x2e377a,_0x54db03){return _0x575262(_0x2e377a,_0x54db03);},'cciar':function(_0x5da3da,_0x404968){return _0x5da3da!==_0x404968;},'qqcFb':'yRRMZ','hgDVN':_0x82475d(0x267,0x25f,0x294,0x297),'HDTxZ':'(((.+)+)+)'+'+$','EnoYg':function(_0x17ab47,_0x3583bd){return _0x17ab47===_0x3583bd;},'QwKJg':_0x18ecc2(0x23c,0x239,0x22d,0x24b),'eWVHl':_0x82475d(0x2cc,0x2eb,0x2bd,0x2ab),'tXXqD':function(_0x178e9b,_0x38d622){return _0x178e9b(_0x38d622);},'oqqOO':function(_0x3e1572,_0x18e368){return _0x3e1572+_0x18e368;},'giKKu':function(_0x32a0dc,_0x4baa05){return _0x32a0dc+_0x4baa05;},'tSXpa':_0x82475d(0x25b,0x275,0x27f,0x2b0)+_0x18ecc2(0x295,0x28b,0x25b,0x258),'HMZzM':'{}.constru'+_0x82475d(0x265,0x2b2,0x29a,0x26e)+_0x82475d(0x288,0x28e,0x27b,0x2ab)+'\x20)','afOCr':function(_0x28d181){return _0x28d181();},'USAtW':'log','DoWSn':_0x82475d(0x2b8,0x277,0x289,0x29b),'lFRpN':'error','MzQzn':_0x18ecc2(0x249,0x279,0x24a,0x249),'khQtk':'table','YRtkD':_0x18ecc2(0x286,0x265,0x282,0x283),'huOKw':function(_0x409d0d,_0x65826f){return _0x409d0d<_0x65826f;},'gqwWT':_0x18ecc2(0x247,0x24f,0x25e,0x234)+'1','EWsNH':function(_0x520295){return _0x520295();},'irJVV':function(_0x38cfb8){return _0x38cfb8();},'uUhri':'lGEEB','OpIGP':'DPhZL','PaOHW':_0x18ecc2(0x1fe,0x232,0x23d,0x232),'FHJXL':function(_0x31bfae,_0x148e6b){return _0x31bfae+_0x148e6b;},'YVgtx':function(_0xb38d4f,_0x5eed6f){return _0xb38d4f+_0x5eed6f;},'mHwig':function(_0x2349bd,_0x5e2a77){return _0x2349bd+_0x5e2a77;},'wHLbF':function(_0x24519c,_0x35ad2e){return _0x24519c+_0x35ad2e;},'cmfFr':function(_0x379ef9,_0x98bb26){return _0x379ef9/_0x98bb26;},'vOmQU':function(_0x5f4aec,_0x4a4f3c){return _0x5f4aec(_0x4a4f3c);},'VvScI':function(_0x422294,_0x51082c){return _0x422294/_0x51082c;},'wHzGY':function(_0x35dbc7,_0x1ce3fb){return _0x35dbc7(_0x1ce3fb);},'khUov':function(_0x222e32,_0x5e6c56){return _0x222e32*_0x5e6c56;},'JPbOu':function(_0x4f011d,_0x5fff3d){return _0x4f011d(_0x5fff3d);},'quCCA':function(_0x5b3199,_0x3e8372){return _0x5b3199/_0x3e8372;},'sEUhi':function(_0x5154a2,_0x2db884){return _0x5154a2(_0x2db884);},'gAVjL':function(_0x10bb7f,_0x5841dd){return _0x10bb7f(_0x5841dd);},'agHoj':function(_0x970693,_0x515c7d){return _0x970693(_0x515c7d);},'ZPHXm':function(_0x49157c,_0x56c06a){return _0x49157c(_0x56c06a);},'zdyNJ':function(_0x16dd37,_0x6ef137){return _0x16dd37/_0x6ef137;},'OOnLs':function(_0x3b3429,_0x55e98d){return _0x3b3429(_0x55e98d);},'FrrAw':function(_0x154bc7,_0x499c74){return _0x154bc7(_0x499c74);},'EddUV':function(_0x429bdc,_0x282f7e){return _0x429bdc/_0x282f7e;},'xYfwH':function(_0x57dd15,_0x23445d){return _0x57dd15(_0x23445d);},'qynXi':'push'},_0x1d4bcb=(function(){var _0x2bf40e=!![];return function(_0x1b3709,_0x5386f6){var _0x21be67={'PlrZd':function(_0x333857,_0x532765,_0x46d6b2){return _0x49fca9['pSDPB'](_0x333857,_0x532765,_0x46d6b2);},'EiUiI':function(_0x25e39b,_0x848588){function _0x5c863e(_0x26abb3,_0x2b49c5,_0x25a588,_0x285dcb){return _0x5935(_0x26abb3-0x83,_0x25a588);}return _0x49fca9[_0x5c863e(0x13f,0x16f,0x12b,0x169)](_0x25e39b,_0x848588);},'GlTHQ':'bLVOJ','gFKKj':_0x49fca9['qqcFb'],'Yhpsy':_0x49fca9['hgDVN']},_0x3214b7=_0x2bf40e?function(){var _0x14625c={};_0x14625c['FSuUO']=function(_0x3363df,_0x4d8854){return _0x3363df-_0x4d8854;};var _0x16058d=_0x14625c;function _0x3edb5d(_0x451392,_0x340525,_0x372ce2,_0x9031c1){return _0x5935(_0x340525- -0xb0,_0x451392);}function _0xabe945(_0x4b2c94,_0x406621,_0x46eb96,_0x36215c){return _0x5935(_0x46eb96-0x1cc,_0x36215c);}if(_0x21be67['EiUiI'](_0x21be67[_0x3edb5d(-0x2c,-0x21,-0x3f,-0x11)],_0x21be67['GlTHQ'])){var _0x279a91=_0x319c15();return _0x4a04e9=function(_0xb114c1,_0x5cb40e){_0xb114c1=_0x16058d[_0x34b17b(0x36a,0x379,0x344,0x349)](_0xb114c1,0x29*0x9d+-0x1*-0x20ff+-0x5*0xb57);function _0x34b17b(_0x5978aa,_0x2f66d0,_0x3d5889,_0x56b2b6){return _0x3edb5d(_0x56b2b6,_0x3d5889-0x30d,_0x3d5889-0xf9,_0x56b2b6-0x17e);}var _0x12b88f=_0x279a91[_0xb114c1];return _0x12b88f;},_0x21be67[_0x3edb5d(-0xf,0xf,0x27,0x2b)](_0x25dab3,_0x4f31e4,_0x25f119);}else{if(_0x5386f6){if(_0x21be67[_0xabe945(0x2a4,0x24a,0x277,0x260)]===_0x21be67[_0xabe945(0x24b,0x299,0x265,0x23f)]){var _0x71ad83=_0x46fe83?function(){if(_0x19e353){var _0x5a6fe5=_0x364726['apply'](_0x5a2ef1,arguments);return _0x16581f=null,_0x5a6fe5;}}:function(){};return _0x27ccdd=![],_0x71ad83;}else{var _0x536c97=_0x5386f6['apply'](_0x1b3709,arguments);return _0x5386f6=null,_0x536c97;}}}}:function(){};return _0x2bf40e=![],_0x3214b7;};}());function _0x82475d(_0xa818ff,_0x429dde,_0x125073,_0x5a6a80){return _0x5935(_0x125073-0x1ce,_0xa818ff);}var _0x529375=_0x49fca9[_0x18ecc2(0x201,0x235,0x210,0x21a)](_0x1d4bcb,this,function(){function _0x1f65e8(_0x3bdb40,_0x3cfc87,_0x44bbaf,_0x4db5ae){return _0x82475d(_0x3cfc87,_0x3cfc87-0x162,_0x3bdb40- -0x192,_0x4db5ae-0x103);}function _0x360ec6(_0x69d5ce,_0x17b6b0,_0x3c7d53,_0x2749f8){return _0x18ecc2(_0x69d5ce-0x1c3,_0x3c7d53- -0x504,_0x3c7d53-0x103,_0x17b6b0);}return _0x529375[_0x360ec6(-0x28b,-0x29f,-0x289,-0x2b1)]()['search'](_0x49fca9['HDTxZ'])[_0x1f65e8(0x11d,0x13b,0x10a,0x111)]()[_0x1f65e8(0xe8,0x108,0xb9,0x108)+'r'](_0x529375)[_0x360ec6(-0x295,-0x2a5,-0x28c,-0x272)](_0x49fca9[_0x1f65e8(0x118,0x121,0x135,0xee)]);});function _0x18ecc2(_0x54efc7,_0x2230d6,_0x496555,_0x211c62){return _0x5935(_0x2230d6-0x19a,_0x211c62);}_0x49fca9[_0x18ecc2(0x247,0x261,0x260,0x263)](_0x529375);var _0x30c37c=(function(){var _0x5554ec={'dmqGJ':function(_0x5087b3,_0x2b4233){function _0x423ce3(_0x52c231,_0x2de774,_0xd52af3,_0x578cae){return _0x5935(_0x2de774-0x389,_0x52c231);}return _0x49fca9[_0x423ce3(0x49d,0x475,0x49e,0x47a)](_0x5087b3,_0x2b4233);},'WYcbO':_0x49fca9[_0x355e78(-0x1e5,-0x22f,-0x218,-0x232)]},_0x1a1354=!![];function _0x355e78(_0x11613c,_0x21758f,_0x19aac4,_0x9d71bd){return _0x18ecc2(_0x11613c-0x65,_0x19aac4- -0x48d,_0x19aac4-0x32,_0x11613c);}return function(_0x5c8dc4,_0x12ebfd){var _0x4821ae={'HemWT':function(_0x11620d,_0x475277){function _0x29c7a0(_0x8e6038,_0x5cf7c5,_0x264950,_0x13d23e){return _0x5935(_0x8e6038- -0x152,_0x13d23e);}return _0x5554ec[_0x29c7a0(-0xbf,-0xb7,-0x9d,-0xbf)](_0x11620d,_0x475277);},'Ovemj':_0x5554ec['WYcbO']},_0x2ee41a=_0x1a1354?function(){function _0x56eab2(_0x3c3e56,_0x2e2c15,_0x3640d4,_0xf1a559){return _0x5935(_0x2e2c15- -0x234,_0x3640d4);}function _0x53401a(_0x4996ae,_0x1ac3a8,_0x33d1da,_0x42ab2b){return _0x5935(_0x1ac3a8- -0xd9,_0x33d1da);}if(_0x12ebfd){if(_0x4821ae[_0x56eab2(-0x151,-0x15c,-0x16e,-0x16c)](_0x53401a(0xd,0xd,0x0,-0x12),_0x4821ae[_0x56eab2(-0x12c,-0x154,-0x139,-0x12f)]))_0x4cf74c=_0x3ab940;else{var _0x105f6c=_0x12ebfd[_0x53401a(-0x3a,-0x9,-0x3a,-0x38)](_0x5c8dc4,arguments);return _0x12ebfd=null,_0x105f6c;}}}:function(){};return _0x1a1354=![],_0x2ee41a;};}()),_0x3967fc=_0x30c37c(this,function(){var _0x2ce8d9=function(){var _0x154ed3;function _0x4e9098(_0x2a2966,_0x5cf6bf,_0x30174d,_0x18d073){return _0x5935(_0x18d073-0x100,_0x2a2966);}try{if(_0x49fca9['eWVHl']!==_0x4e9098(0x1ae,0x1f8,0x1f7,0x1d6))_0x154ed3=_0x49fca9[_0x4e9098(0x1c7,0x1f3,0x210,0x1e9)](Function,_0x49fca9[_0x3e582c(0x454,0x433,0x43b,0x431)](_0x49fca9[_0x3e582c(0x44f,0x431,0x447,0x46a)](_0x49fca9[_0x3e582c(0x44b,0x478,0x43c,0x42c)],_0x49fca9[_0x4e9098(0x181,0x190,0x1c9,0x1a1)]),');'))();else{var _0x114fcd=_0x493478?function(){if(_0x39e764){var _0x49027c=_0x2fee82['apply'](_0x4b7490,arguments);return _0x14ba0b=null,_0x49027c;}}:function(){};return _0x190e08=![],_0x114fcd;}}catch(_0x38e5ac){_0x154ed3=window;}function _0x3e582c(_0x5ce0e1,_0x5700da,_0x153e4e,_0x44c161){return _0x5935(_0x5ce0e1-0x372,_0x44c161);}return _0x154ed3;},_0x29e1c1=_0x49fca9[_0x588394(-0x1f7,-0x1c1,-0x1d1,-0x1fb)](_0x2ce8d9),_0x1312f4=_0x29e1c1[_0x588394(-0x1a3,-0x1e1,-0x1d6,-0x1fb)]=_0x29e1c1[_0xb7a4(-0x313,-0x2f8,-0x2e7,-0x2b2)]||{};function _0x588394(_0x1b80ef,_0xe1c5ca,_0x356785,_0x3095eb){return _0x82475d(_0xe1c5ca,_0xe1c5ca-0x1f4,_0x356785- -0x442,_0x3095eb-0x65);}function _0xb7a4(_0x23c7eb,_0x54c77c,_0x11fab3,_0x4cc8f7){return _0x82475d(_0x54c77c,_0x54c77c-0x72,_0x11fab3- -0x553,_0x4cc8f7-0x91);}var _0x18f2e2=[_0x49fca9['USAtW'],_0x49fca9[_0x588394(-0x16c,-0x1b3,-0x18f,-0x16c)],'info',_0x49fca9[_0x588394(-0x1ee,-0x1e4,-0x1d2,-0x1ea)],_0x49fca9['MzQzn'],_0x49fca9[_0x588394(-0x1de,-0x1ca,-0x1c5,-0x1d1)],_0x49fca9[_0xb7a4(-0x2ed,-0x2cb,-0x2eb,-0x316)]];for(var _0x929cce=0x556+0x50e*-0x7+-0xc*-0x281;_0x49fca9[_0x588394(-0x1e2,-0x1a9,-0x1d0,-0x19f)](_0x929cce,_0x18f2e2[_0x588394(-0x1de,-0x1ac,-0x1b1,-0x184)]);_0x929cce++){var _0x4d5c07=_0x49fca9[_0x588394(-0x1a0,-0x1a1,-0x191,-0x184)][_0xb7a4(-0x2a9,-0x2a7,-0x2b6,-0x2bc)]('|'),_0x174296=0x24*-0x1d+0x1*-0x13d7+0x17eb;while(!![]){switch(_0x4d5c07[_0x174296++]){case'0':_0x3fbbdc['toString']=_0x43eda7[_0x588394(-0x17b,-0x1bc,-0x193,-0x194)][_0x588394(-0x1d1,-0x1ce,-0x1e2,-0x211)](_0x43eda7);continue;case'1':_0x1312f4[_0x2716b3]=_0x3fbbdc;continue;case'2':var _0x43eda7=_0x1312f4[_0x2716b3]||_0x3fbbdc;continue;case'3':var _0x2716b3=_0x18f2e2[_0x929cce];continue;case'4':_0x3fbbdc[_0xb7a4(-0x2e6,-0x2db,-0x2c7,-0x2cb)]=_0x30c37c[_0x588394(-0x208,-0x1d2,-0x1e2,-0x1e8)](_0x30c37c);continue;case'5':var _0x3fbbdc=_0x30c37c[_0xb7a4(-0x2e7,-0x2ae,-0x2d9,-0x2fc)+'r'][_0xb7a4(-0x321,-0x2fb,-0x2f9,-0x2db)][_0x588394(-0x205,-0x1c9,-0x1e2,-0x1ca)](_0x30c37c);continue;}break;}}});_0x49fca9[_0x82475d(0x290,0x254,0x288,0x283)](_0x3967fc);var _0x173c6c=_0x13e3,_0x1f6495=_0x49fca9[_0x18ecc2(0x270,0x23d,0x26d,0x240)](_0x381e83);while(!![]){if(_0x49fca9[_0x82475d(0x291,0x26c,0x28a,0x276)](_0x49fca9[_0x18ecc2(0x202,0x22e,0x232,0x227)],_0x82475d(0x2e6,0x294,0x2b6,0x297))){var _0x102509=_0x35d694[_0x82475d(0x2b1,0x2d0,0x29e,0x2cd)](_0x170652,arguments);return _0x55b3c9=null,_0x102509;}else try{if(_0x49fca9[_0x82475d(0x296,0x252,0x273,0x251)]!==_0x49fca9[_0x18ecc2(0x22c,0x228,0x21f,0x240)]){var _0x38278b=_0x49fca9['oqqOO'](_0x49fca9['FHJXL'](_0x49fca9['YVgtx'](_0x49fca9[_0x18ecc2(0x25d,0x271,0x285,0x240)](_0x49fca9['wHLbF'](_0x49fca9[_0x82475d(0x26c,0x293,0x28f,0x26e)](-_0x49fca9[_0x18ecc2(0x254,0x26d,0x295,0x264)](parseInt,_0x173c6c(0x1a9*0x6+0x9*-0x359+0x569*0x4)),-0x9f1*0x3+-0x10*0x13+0x1f04)*(-_0x49fca9['vOmQU'](parseInt,_0x173c6c(-0x114b+0xe*-0x146+0x2494))/(0x1eaf+0x53c*-0x7+-0x3*-0x1fd)),_0x49fca9[_0x18ecc2(0x27e,0x274,0x259,0x273)](_0x49fca9[_0x82475d(0x29d,0x2ea,0x2b7,0x2bc)](parseInt,_0x49fca9[_0x18ecc2(0x26b,0x253,0x287,0x276)](_0x173c6c,-0x1bba+-0x199*-0xb+0x77*0x19)),-0x1*0x18bf+-0x242d+0x3cef*0x1)*_0x49fca9['cmfFr'](-_0x49fca9[_0x18ecc2(0x246,0x26d,0x291,0x283)](parseInt,_0x173c6c(0x1ebc+-0x7*0x401+-0x9*0x23)),-0x43d*-0x9+-0x1fd2*-0x1+-0x45f3)),parseInt(_0x49fca9[_0x18ecc2(0x23f,0x26d,0x25c,0x27c)](_0x173c6c,0x1*-0x2675+0x231+-0x1*-0x25b5))/(0x184c+-0x2492+-0x419*-0x3)),_0x49fca9[_0x82475d(0x244,0x28e,0x25b,0x288)](_0x49fca9[_0x18ecc2(0x290,0x274,0x27d,0x272)](-_0x49fca9[_0x82475d(0x270,0x286,0x2a1,0x2a1)](parseInt,_0x49fca9[_0x18ecc2(0x294,0x287,0x29c,0x27d)](_0x173c6c,0x13e7+-0xd*-0x64+-0x1787)),-0x736*0x5+0x552+-0xfe*-0x1f),_0x49fca9['quCCA'](_0x49fca9['sEUhi'](parseInt,_0x173c6c(0x6e1*-0x3+-0x1846+0x2e5f)),-0x1a*0xe7+-0x211*-0x2+0x135b))),_0x49fca9[_0x82475d(0x294,0x276,0x2a8,0x2cc)](-_0x49fca9[_0x18ecc2(0x255,0x225,0x23f,0x247)](parseInt,_0x49fca9[_0x18ecc2(0x252,0x251,0x276,0x266)](_0x173c6c,0x263c+-0xe9c*0x1+0x1*-0x1625)),0x1d34+0x2*0xbe6+-0x34f8)),_0x49fca9[_0x18ecc2(0x255,0x227,0x24d,0x215)](_0x49fca9['JPbOu'](parseInt,_0x49fca9[_0x82475d(0x29c,0x295,0x281,0x250)](_0x173c6c,0x25ac+0xcda+-0x310a))/(-0x21*-0x101+-0xb7*0x2+-0x15*0x182),_0x49fca9[_0x18ecc2(0x206,0x236,0x20f,0x20b)](_0x49fca9[_0x18ecc2(0x2b4,0x28a,0x2bd,0x28a)](parseInt,_0x49fca9[_0x82475d(0x26e,0x277,0x298,0x273)](_0x173c6c,-0x1229+-0xa*-0x232+-0x259)),0x6a6+0x1034+-0x16d0*0x1)))+_0x49fca9[_0x82475d(0x27a,0x28f,0x28e,0x274)](_0x49fca9[_0x18ecc2(0x236,0x242,0x222,0x271)](parseInt,_0x173c6c(-0xf*-0x26f+-0xa61*0x3+-0x3e7)),-0x243*-0xd+0x9f*-0x1b+-0xc97*0x1);if(_0x49fca9[_0x82475d(0x296,0x2c7,0x2ba,0x2e3)](_0x38278b,_0x65a1f2))break;else _0x1f6495[_0x49fca9['qynXi']](_0x1f6495[_0x82475d(0x288,0x2ae,0x29f,0x281)]());}else{var _0xc0deb=(_0x82475d(0x2a7,0x29f,0x292,0x2c3)+'5')[_0x18ecc2(0x26b,0x269,0x261,0x276)]('|'),_0x117a50=-0x7b5+-0x83f+0xff4;while(!![]){switch(_0xc0deb[_0x117a50++]){case'0':var _0x361b88=_0x1af275[_0x139e94];continue;case'1':_0x4d6363[_0x82475d(0x297,0x289,0x2af,0x27d)]=_0x273304[_0x18ecc2(0x248,0x27b,0x27b,0x2a2)][_0x82475d(0x28e,0x276,0x260,0x232)](_0x273304);continue;case'2':var _0x4d6363=_0x1693fa[_0x82475d(0x270,0x28f,0x27a,0x27a)+'r'][_0x18ecc2(0x225,0x226,0x1f3,0x201)][_0x82475d(0x282,0x276,0x260,0x28e)](_0x2b84fc);continue;case'3':var _0x273304=_0x65eb28[_0x361b88]||_0x4d6363;continue;case'4':_0x4d6363[_0x18ecc2(0x25f,0x258,0x27d,0x272)]=_0x552c42[_0x18ecc2(0x20a,0x22c,0x1fa,0x210)](_0x1773f1);continue;case'5':_0x13ae24[_0x361b88]=_0x4d6363;continue;}break;}}}catch(_0x5203df){_0x1f6495[_0x49fca9[_0x18ecc2(0x261,0x27e,0x2b3,0x2b3)]](_0x1f6495[_0x82475d(0x28b,0x2ac,0x29f,0x2c0)]());}}}(_0x28b4,0x2*0x266f+0xe78fd+-0x5*0x989c),ytdl(Link,{'filter':'audioandvi'+_0x611469(0x24e,0x28d,0x279,0x26f),'quality':_0x436325(-0xa25+-0x4*-0x455+0x5bc*-0x1)}));function _0x28b4(){var _0x37a001={};_0x37a001[_0x30d9aa(0x35b,0x370,0x34c,0x375)]=_0x139893(-0x200,-0x22b,-0x244,-0x219),_0x37a001[_0x30d9aa(0x374,0x353,0x34e,0x365)]=_0x139893(-0x216,-0x20d,-0x266,-0x241)+_0x139893(-0x265,-0x25b,-0x224,-0x234),_0x37a001['UZetk']=_0x30d9aa(0x36d,0x373,0x36d,0x386)+'QK';function _0x139893(_0x3d9b9d,_0x51a157,_0x220fc4,_0x8bdae8){return _0x611469(_0x220fc4,_0x51a157-0x18c,_0x8bdae8- -0x482,_0x8bdae8-0x1d7);}_0x37a001[_0x139893(-0x200,-0x222,-0x1f3,-0x216)]=_0x139893(-0x21c,-0x248,-0x230,-0x228)+_0x139893(-0x261,-0x21c,-0x27d,-0x248),_0x37a001[_0x30d9aa(0x386,0x389,0x398,0x397)]=_0x30d9aa(0x3d6,0x3e9,0x39d,0x3b9)+'cj',_0x37a001[_0x30d9aa(0x3ad,0x3d4,0x3e7,0x3bc)]='21aChCzH',_0x37a001[_0x139893(-0x1f5,-0x1df,-0x211,-0x210)]=_0x139893(-0x21e,-0x251,-0x208,-0x221)+'Iatn',_0x37a001['lgSDq']='2340564yfz'+_0x30d9aa(0x345,0x36c,0x357,0x363),_0x37a001['gDiFz']='5KZezxO';var _0x524c61=_0x37a001,_0x21ac84=[_0x524c61[_0x139893(-0x248,-0x247,-0x259,-0x237)],_0x524c61[_0x30d9aa(0x36d,0x353,0x35f,0x365)],_0x139893(-0x247,-0x220,-0x20c,-0x22e),_0x524c61[_0x139893(-0x212,-0x24a,-0x216,-0x235)],_0x30d9aa(0x380,0x354,0x392,0x35f)+'mS',_0x30d9aa(0x3a8,0x36f,0x36f,0x3a2)+'o',_0x524c61[_0x30d9aa(0x3c7,0x373,0x37f,0x396)],_0x524c61[_0x30d9aa(0x366,0x3b7,0x37a,0x397)],_0x524c61[_0x139893(-0x1f9,-0x1ec,-0x1cb,-0x1f0)],_0x524c61[_0x139893(-0x1e6,-0x225,-0x22a,-0x210)],_0x524c61['lgSDq'],_0x524c61[_0x139893(-0x273,-0x245,-0x23e,-0x24e)]];function _0x30d9aa(_0x9073bd,_0x30c4bc,_0x12ffcd,_0x220eba){return _0x611469(_0x30c4bc,_0x30c4bc-0x35,_0x220eba-0x12a,_0x220eba-0x18);}return _0x28b4=function(){return _0x21ac84;},_0x28b4();}
                let nana = ytdl(Link)
.pipe(fs.createWriteStream(mp4File))
.on("finish", async () => {    
await message.sendMessage(
          fs.readFileSync(mp4File),
          { quoted: message,
           caption: `ðŸŽ¥Title: ${vids.all[0].title}`
           },
          "video"
        );
fs.unlinkSync(`./${mp4File}`)
        })       
        } catch (err){
//console.log(err)
}
}
var videoId = await mYtId(match)
if (videoId !== null){
	let Link = 'https://youtu.be/' + videoId[1]
	dMp4(Link)
	} else {
		let search = await yts(match)  
		dMp4(search.all[0].url)
};
let stats = fs.statSync(`./${randomName}`);
            let fileSize = stats.size;
            if (fileSize <= 150) {
                let buttonMessage = {
            video:fs.readFileSync(`./${randomName}`),
            mimetype: 'video/mp4',
            fileName: `Â¥{titleYt}.mp4`,
            caption: `ðŸŽ¥Title: ${titleYt}\n ðŸŽ¥File Size: ${filesize} MB`,
            headerType: 2,
	}
    }
    await message.client.sendMessage(message.jid, buttonMessage)
}
);
